# PMP Cloud Inspector Configuration Example
#
# All provider credentials are configured via environment variables for security.
# See README for environment variable requirements for each provider.

# Provider configuration
providers:
  # AWS Provider
  # Credentials: AWS SDK standard credential chain (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, ~/.aws/credentials, IAM role)
  - name: aws
    # Specific accounts to inspect (empty = all accounts available with credentials)
    accounts: []
    # Specific regions to inspect (empty = default regions)
    regions:
      - us-east-1
      - us-west-2
      - eu-west-1
    # Rate limiting: delay in milliseconds between API calls (0 = no rate limiting)
    # Recommended: 50-100ms for most use cases, 200-500ms for heavy usage
    rate_limit_ms: 0

  # GitHub Provider
  # Environment Variable: GITHUB_TOKEN (required)
  # - name: github
  #   # Organizations to inspect (empty = all user's organizations)
  #   accounts:
  #     - my-org-name

  # GitLab Provider
  # Environment Variables: GITLAB_TOKEN (required), GITLAB_BASE_URL (optional)
  # - name: gitlab
  #   # Groups to inspect (empty = all accessible projects)
  #   accounts:
  #     - my-group-name

  # JFrog Artifactory Provider
  # Environment Variables: JFROG_BASE_URL (required), JFROG_API_KEY (or JFROG_USERNAME + JFROG_PASSWORD)
  # - name: jfrog

  # GCP Provider
  # Environment Variables: GCP_PROJECT_ID (required), GOOGLE_APPLICATION_CREDENTIALS (optional)
  # - name: gcp
  #   regions:
  #     - us-central1
  #     - us-east1

  # Okta Provider
  # Environment Variables: OKTA_ORG_URL (required), OKTA_API_TOKEN (required)
  # - name: okta

# Resource configuration
resources:
  # Specific resource types to collect
  # Available AWS types:
  #   - aws:iam:user
  #   - aws:iam:role
  #   - aws:account
  #   - aws:ec2:vpc
  #   - aws:ec2:subnet
  #   - aws:ec2:security-group
  #   - aws:ec2:instance
  #   - aws:ecr:repository
  #   - aws:eks:cluster
  #   - aws:elb:classic
  #   - aws:elb:application
  #   - aws:elb:network
  #   - aws:lambda:function
  #   - aws:apigateway:api
  #   - aws:cloudfront:distribution
  #   - aws:memorydb:cluster
  #   - aws:elasticache:cluster
  #   - aws:secretsmanager:secret
  #   - aws:sns:topic
  #   - aws:sqs:queue
  #   - aws:dynamodb:table
  # Available GitHub types:
  #   - github:organization
  #   - github:repository
  #   - github:team
  #   - github:user
  # Available GitLab types:
  #   - gitlab:project
  #   - gitlab:group
  #   - gitlab:user
  # Available JFrog types:
  #   - jfrog:repository
  #   - jfrog:user
  #   - jfrog:group
  #   - jfrog:permission
  # Available GCP types:
  #   - gcp:project
  #   - gcp:compute:instance
  #   - gcp:compute:network
  #   - gcp:compute:subnetwork
  #   - gcp:storage:bucket
  #   - gcp:cloudfunctions:function
  #   - gcp:run:service
  # Available Okta types:
  #   - okta:user
  #   - okta:group
  #   - okta:application
  #   - okta:authorizationserver
  types: []

  # Collect all available resource types
  include_all: true

  # Track relationships between resources
  relationships: true

# Export configuration
export:
  # Output format: json, yaml, dot
  format: json

  # Output file path (optional, defaults to stdout)
  output_file: ""

  # Pretty print output
  pretty: true

  # Include raw cloud provider data in output
  include_raw: false

  # Export to multiple formats (optional)
  # formats:
  #   - json
  #   - yaml
  #   - dot
